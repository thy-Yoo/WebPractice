# WebPractice

프로젝트 작업 내용 설명
### DaehanEventCrawl
- 대한극장 홈페이지에서 이벤트 데이터를 크롤링, 개인 오라클 DB에 저장하였다.
- jsp,css를 이용하여 웹페이지를 제작하였다. (메가박스, 대한극장 디자인 참고)
- DB에 저장해둔 데이터를 웹에 출력. 영화/극장별 카테고리로 나누었다.
- GitHub에 업로드하기 위해서 DBCP를 은닉화하여 오라클 연결 정보를 숨겨두었다. <br>

### NaverMovieDataCrawl
- 네이버 영화 사이트에서 크롤링을 하는 기능에 대한 클래스이다.<br>
- 해당 사이트는 일부 영화들이 관람등급 __태그가 빠져있거나, 하나의 태그안에 여러 데이터__ 가 있어서<br>
  이부분을 크롤링 과정에서 해결해야했다. ( 장르|상영시간|개봉일이 상영시간|개봉일 로 되어있는 등의 문제) <br>
  for문과 if문을 이용하여 예외를 가진 컬럼 num을 기준으로 문제를 해결하였는데, 데이터가 바뀌면 의미가 없어지기에 다른 해결법이 필요하다.<br>
  
### MovieWeb
##### 01
- DaehanEventCrawl 프로젝트를 MVC패턴으로 구현하려고 노력하였다.
- 다운받은 Spring.jar 파일을 사용해서, Controller를 직접 구현하지 않았는데, 이에 대한 공부가 필요하다.
- EventDAO에 대한극장 사이트의 이벤트 페이지의 __상세 페이지에서 데이터를 크롤링하는 기능__ 을 추가하였다.<br>
- EventDAO에 이벤트 기간을 (DB에 저장된 term 컬럼을) 현재 날짜와 비교하여, <br>
  __진행중인지 지난 이벤트인지 구분__ 하여 state컬럼에 값을 넣는 기능을 추가하였다.<br>
  이는 나중에 sql문 조건절에서 state를 쓰기 위함이다. <br>
##### 02
- state 데이터를 기준으로 진행중인 이벤트와 지난 이벤트 페이지를 나누었다. <br>
- 이벤트 페이지에서 각 이벤트를 클릭할 경우 __세부페이지로 이동하는 기능__ 을 추가하였다. <br>
- 당첨자 게시판 페이지에서 각 게시물을 클릭할 경우 세부페이지로 이동하는 기능을 추가하였다. <br>
- Servlet을 통해 각 item의 mno를 받고 __세부페이지에서__ mno에 해당하는 vo의 __데이터를 출력하는 기능__ 을 추가하였다. <br>
- CSS가 중복된 경우의 문제점을 발견하고 수정하였다. <br>
- 중복되어 의미없는 CSS속성 정리가 필요하다. 또, 데이터가 많은 지난 이벤트 페이지의 페이징처리가 필요하다. <br>
##### 03
- 지난 이벤트페이지에서 출력되는 데이터가 많아서 __페이징 처리__ 를 하였다.
- 이벤트 페이지의 [전체 / 영화 / 극장] 메뉴를 페이징 이동 후에도 active를 유지시키고 싶다. <br>
  servlet을 통해 현재 url주소를 받아오고, 특정 페이지 url에 해당하면 해당 메뉴에 active를 주는 형식으로 작성하고자 한다. <br>
  
##### 04
- __로그인 기능__ 을 구현하였다. <br>
- 회원정보 table에 데이터가 추가 될 경우, 멤버십 table에도 관련 데이터를 추가하는 기능을 구현하였다. <br>
- __session data를 받아와서__ 멤버십 table의 정보와 비교, __로그인 중인 회원의 정보 일부를 출력__ 하는 viplounge 페이지를 만들었다.<br>

##### 05
- 진행중인 이벤트 페이지의 __검색기능을 구현__ 하였다.<br>
- Servlet이 조금 이해되고 나니 현재 페이지 구성에 대한 고찰을 하게 되었다. __DAO, View 뜯어고치고싶다!!__ <br>
- 오늘 처음, 디자인적 센스와 기술이 뛰어난 프론트엔드 전문가도 백엔드를 이해하고 배려하여 작업해야하고,<br>
 데이터를 다루고 웹과 연동하는 백엔드 전문가도 프론트엔드 지식을 넓게 알아야한다고 느꼈다.<br>
 소스를 간결하게 만들 수 있는 각 기능에 맞춘 태그가 있는 것 같다. <br>
 상황에 맞지 않는 태그를 쓴다면 괜히 view는 javascript를 추가해야하고 servlet도 메소드가 복잡해 질 것 같다. <br> 

##### 앞으로 해야할 작업.
- 지난 이벤트 페이지 검색기능 구현, 페이징 처리 되어있으므로 서브쿼리문에 주의가 필요할듯함.
- DAO 객체 생성 싱글턴 패턴으로 바꾸기.
- 안쓰는 css소스, java메소드 정리.
- DBCP 은닉화는 최종 작업 끝난 후에.
