### 개인 기록용

#### 문제 발견 1 - 하나의 태그안에 여러 종류의 data가 있는데, 그 중 정보가 없는 부분이 존재한다는 점.

네이버 영화 사이트의는 개요라는 태그 안에 __액션,판타지 | 125분 | 2021.09.01 개봉__ 이와 같은 형태로 세가지 정보가 담겨있다. <br>
세가지 데이터를 각각의 DB 컬럼에 나누어 넣기 위해, 처음에는 | 문자를 기준으로 문자열을 잘라 나누었다. <br>
그런데, 데이터들을 살펴보니 __개요 : 상영시간 | 개봉일__ 과 같이 장르가 없이 빠져있는 것을 발견하였고, 단순히 문자열을 자르는 함수를 사용하기엔 문제가 있었다. <br>


때문에<br>
1. '|'가 아닌 상영시간의 문자'분'을 기준으로 데이터를 나누기로 정하였다.
```
for(int i=0; i<temp.get(j).length(); i++) {
  if( temp.get(j).charAt(i)=='분') {/ *p1=0, p2=1이 초기값. 무조건 처음에 만족*/
    bun=i;			    /*p1=8,p2=1인 상태. (예를들어서)*/
    System.out.println("분위치:"+bun);
	}
}
```
2. '분'이라는 문자의 위치가 3이상이라는 것은, 장르 데이터가 존재한다는 의미이고, (사이트 확인 후, 장르의 최소글자수를 2로 잡음)<br>
   '분'이라는 문자의 위치가 3미만이라는 것은, 장르 데이터가 존재하지 않다는 의미이다. 때문에 아래와 같이 나누어 해결하였다.
```
  if(bun>=3) { 
		runningtime = (String) temp.get(j).subSequence(bun-3,bun+1);
		releasedate = (String) temp.get(j).subSequence(bun+4,bun+17);
	}else if(bun<3) {
		runningtime = (String) temp.get(j).subSequence(0,bun+1);
		releasedate = (String) temp.get(j).subSequence(bun+4,bun+17);
	}
```
#### 문제 발견 2 - 일괄적인 네이버 영화 목록 내에서 a 태그 자체의 부재.

특정 몇몇 영화의 경우 태그 자체가 잘못되어 있었다. (관람등급 태그가 없음.) 태그 자체가 없기때문에<br>
try,catch문을 이용해 보아도 i번째에서 java가 그 코드 자체를 읽을 일이 없어서 문제를 찾을 일이 없었고, 해결이 불가하였다.<br>
그래서 오라클 테이블에서 data에 문제가 생기기 시작한 부분과 네이버 영화 사이트를 보며 태그가 없는 영화들의 위치를 알아내었고,<br>
__k==87:뜨거운 것이 좋아 k==103:역마차 k==112:킹콩__ 임을 이용해 문제를 해결하려하였다.<br>
```							
if(k<87) {
	vo.setGrade(grade.get(j).text());
}else if( k==87 || k==103 || k==112 ){
	vo.setGrade(null);
}else if( k>87 && k<103 ){
	vo.setGrade(grade.get(j-1).text());
}
else if( k>103 && k<112 ){
	vo.setGrade(grade.get(j-2).text());
}
else {			
	vo.setGrade(grade.get(j-3).text());	
}	
```
한번 태그가 빈 장소를 기준으로, 다른 태그들을 읽어올 순서가 밀리지 않게 당겨오도록(i-1) 한것인데<br>
지금 당장의 데이터 크롤링을 하는데에 생기는 문제는 해결하였지만<br>
네이버 영화 사이트에서 영화 리스트가 바뀌면 k들도 바뀐다는 점에서 이 문제해결방식은 의미가 있을까? 라는 생각이 들었다.<br>

이론적으로는 __태그가 비어있는부분의 영화[i] -> 그때의 영화 num를 k[i]값에 저장. -> k[i]를 기준으로 분류.__ <br>
와 같이 코드를 작성하여 데이터가 변하여도 __k값도 함께 변하도록__ 작성하고 싶은데,<br>
앞서 말했듯이 태그 자체가 없기때문에 읽을 데이터 자체가 없어서 그렇게 함수를 작성하지 못하였다..<br>
<br>
__+ 아이디어 추가__ <br>
특정 태그에서 읽는게 아닌, 더 광범위한 영역의 태그에서 먼저 읽어주면서, 내부에 태그가 없는 경우를 골라내는 방식은 어떨까?<br>
div부터 읽어내어 div안에 a가 없을 때, 그때의 div 위치를 k에 저장하는 방식으로.. a가 없다는것을 인식 할 수 있을까...?<br>
